**目录：**

- [1. HTML5 背景](#1-html5-背景)
  - [1.1. HTML 的历史](#11-html-的历史)
    - [1.1.1. JavaScript 的出场](#111-javascript-的出场)
    - [1.1.2. 浏览器战争的结束](#112-浏览器战争的结束)
    - [1.1.3. 插件称雄](#113-插件称雄)
    - [1.1.4. 语义 HTML](#114-语义-html)
    - [1.1.5. HTML 标准滞后于使用](#115-html-标准滞后于使用)
  - [1.2. HTML5 简介](#12-html5-简介)
    - [1.2.1. 新标准](#121-新标准)
    - [1.2.2. 引入原生多媒体](#122-引入原生多媒体)
    - [1.2.3. 引入可编程内容](#123-引入可编程内容)
    - [1.2.4. 引入语义 Web](#124-引入语义-web)

# 1. HTML5 背景

**HTML(Hypertext Markup Language, 超文本标记语言)** 诞生于 20 世纪 90 年代初。我与它的初次遵适大约是在 1993 年或 1994 年，当时我还在伦敦附近一个大学的研究实验室工作。那时浏览器只有 NCSAMosaic 这一种，Web 服务器的种类也屈指可数。

回想那段日子我们对 HTML 和万维网的着迷，仍不免有些惊讶。那时我们还得不厌其烦地把"World Wide Web"（万维网） 这三个单词全写出来，因为它的知名度还没有那么高，远没有今天这么受人瞩目，还不能只简称其为“ Web”。

那时一切都还很简陋。我还记得当时盯着一些慢腾腾加载的宝石图片看的情景。这都是宽带革命之前的事，整个大学享有的带宽大致与如今的一部移动电话相当。不过我们还是很激动。为迎接新时代的到来，大家都在忙着修改课题经费申请。尽管我们上网能做的只是看看另一所大学的咖啡壶图片（这所大学也在伦敦附近，但过去喝杯咖啡却并不近），我们还是有一种强烈的感觉：技术世界已经分为 Web 诞生前和诞生后两个时代了。

光阴荏苒，在许多用户眼中，Web 跟因特网变成了一回事儿，而我们也远远超越了为几张宝石图片就雀跃不已的层次。在此过程中，HTML 有过扩充，有过增强，有过扭曲，有过煎熬，见过争斗，见过官司，受过忽视，受过追捧，曾被贬为雕虫小技，也曾被誉为未来之星。待尘埃落定，它巳然成为亿万人日常生活不可或缺的一部分。

本书讲述的是 HTML5。这是 HTML 标准的最新版本，意在为这项重要技术带来秩序、条理和改进。曾经的青涩少年终于成熟了。

## 1.1. HTML 的历史

讲 HTML 的书都有“HTML 的历史” 这样一节，其中大都会提供 HTML 标准从诞生至今的详细年表。需要这类信息的读者可以去查查维基百科，不过这些信息读起来可能比较枯燥乏味，用处也不大。本书只关心其中几个重要转折点和一个长期存在的发展态势，旨在让读者明白 HTML 是如何成型的，明白为什么最终走到了 HTML5。

### 1.1.1. JavaScript 的出场

JavaScrip 语言出自一家名为网景的公司。它的出现标志着内嵌在 Web 浏览器中的客户端脚本程序控制功能的发端。原本是一种静态内容载体的 HTML 因此变得有点丰富起来。之所以说“有点丰富＂，是因为现在我们在浏览器中见到的这种复杂交互方式是经过一段时间的发展之后才形成的。

JavaScript 并非 HTML 规范核心的组成部分，然而 Web 浏览器、HTML 和 JavaScrip 之间的关系是如此紧密，以至于根本无法将它们分开讨论。HTML5 规范假定可以使用 JavaScript, 而且要想使用 HTML5 中新增的一些最为引人注目的特性也需要用到 JavaScript。

### 1.1.2. 浏览器战争的结束

浏览器市场也有过激烈的竞争。主要的角逐者是微软和网景，它们都把在自己的浏览器中添加一些独有的特性当做竞争手段。其如意算盘是这样打的：诱人的专有特性会诱使开发人员制作出只能在特定浏览器上使用的内容，而诱人的内容又会诱使用户对能提供这种内容的浏览器青眯有加，由此市场霸业可成。

可惜人算不如天算。这样做的结果是 Web 开发人员要么只使用那些所有浏览器都有的特性，要么煞费苦心地想些变通办法来使用各款浏览器中勉强相当的那些特性。这是一种煎熬，而且其后遗症直到现在仍然在影响 Web 开发。

微软用免费提供 IE 来与网景收费的 Navigator 抢生意，这一招儿后来被认定违反垄断法。很多人指责微软是网景垮台的罪魁祸首。这一指控或许不无道理，不过在我这个曾在那段时期为网景做过大约 18 个月顾问的人看来，我从没见过像它那样一根筋地自残的公司。有些公司注定要成为别人的前车之鉴，网景就是其中之一。

浏览器战争以网景倒台及微软受到惩处结束，为基于标准的网络浏览奠定了基础。HTML 规范有了改进，遵从这个规范成了准则。现在的浏览器需要凭遵守标准的程度来竞争。这是一次天翻地覆的转折，开发人员和用户均受益于此。

### 1.1.3. 插件称雄

插件是 Web 世界的“益虫”。它们可以提供一些单用 HTML 很难实现的高级特性和丰富内容。有些插件特性如此丰富、部署如此普遍，以至于不少网站只提供用于这种插件的内容。Adobe 公司的 Flash 正是这样一个典型。我经常见到完全用 Flash 实现的网站。按说这也没什么不妥，不过这就意味着浏览器和 HTML 除了 Flash 容器一职外再无他用。

浏览器开发商看插件不顺眼，因为它把控制权转移到了插件开发商手中。HTML5 的一大改进就是着力于让浏览器直接处理那些原来要使用 Flash 的富内容(rich content)。苹果和微软是疏远 Flash 的两个急先锋。前者的 OS 不支持 Flash，后者则在 Windows8 附带的 Metro 风格的 IE 中禁用了 Flash。

### 1.1.4. 语义 HTML

HTML 标准的早期版本不太关心将内容的意义与其呈现方式分开。想表示一段文字的重要性，使用一个让文字显示为粗体的 HTML 元素就是了。把粗体内容与重要内容关联起来是用户的事。这对人类用户来说很容易，却会让自动化工具犯难。自 HTML 初次亮相以来，对内容进行自动处理日趋重要，人们也越来越致力于分开 HTML 元素的意义与内容在浏览器中的呈现方式。

### 1.1.5. HTML 标准滞后于使用

制定标准一般都是一个长期过程，像 HTML 这种应用广泛的技术更是如此。参与方众多，每家都想把新标准往符合自己利益或观点的方向引。而标准并不是法律，标准制定机构害怕分裂甚于一切。因此对于未来的特性和改进该当如何，各方经常陷入旷日持久的讨价还价。

负责制定 HTML 标准的是 **W3C(World Wide Web Consortium, 万维网联盟)**。这是一项棘手的任务。一条提案要花不少时间才能成为标准。而对 HTML 核心规范的修改则需经过很长时间才会得到批准。

冗长的标准制定过程带来的结果就是 W3C 总是要多绕一些路，总是在将已经被大家接受的实际做法追认为标准。HTML 规范反映的只是几年前关于 Web 内容的前沿思考。这削弱了 HTML 标准的重要性，因为真正的革新并非来自 W3C，而是来自浏览器和插件。

## 1.2. HTML5 简介

HTML5 不仅仅是 HTML 规范的最新版本，它还是一系列用来制作现代富 Web 内容的相关技术的总称。后面各章将会介绍这些技术，其中最重要的三项技术是 HTML5 核心规范、CSS(Cascading Style Sheets, 层叠样式表） 和 JavaScript。

HTML5 核心规范定义用以标记内容的元素，并明确其含义。CSS 可用于控制标记过的内容呈现在用户面前的外貌。JavaScript 则可以用来操纵 HTML 文档的内容以及响应用户的操作，此外要想使用 HTML5 新增元素的一些为编程目的设计的特性也需要用到 JavaScript。

有些人（那些挑剔、执拗、爱钻牛角尖的人）会说 HTML5 所指的只是 HTML 元素。别管他们。这些人看不出 Web 内容的本质所发生的根本性变化。用于网页的各种技术之间的关联已经变得如此紧密，以致于需要通晓这些技术才能制作 Web 内容。如果只使用 HTML 元素，不用 css，这样制作出来的内容会让用户觉得不便阅读。如果用了 HTML 和 css, 但不用 JavaScript, 那就无法为用户的操作提供即时反馈，也无法使用 HTML5 中的一些高级特性。

### 1.2.1. 新标准

为了应对漫长的标准化过程以及标准落后于常见用法的清况，HTM5 及其相关技术是作为一系列小型标准而制定的。其中有些标准只有区区几页，涉及的只是某项特性中一个高度细化的方面。当然，其他一些标准仍然有密密麻麻的几百页， 涵盖了相关功能的所有方面。

这样做的目的是让较小的团体可以合作设计和将对他们较为重要的特性标准化，争议较少的特性可以先标准化，不必受围绕其他特性发生的争论的拖累。

这个办法有利也有弊。好处是可以加快标准制定步伐。主要的弊端在于难以全面掌握制定中的各个标准的情况以及这些标准之间的关系。技术规范的质量也有所下降。有些标准中存在着一些歧义， 致使浏览器中的实现出现了不一致的情况。

最大的不足之处大概要算没有一条可用来评估 HTML5 达标情况的基准线。我们现在还处于初始阶段，但是不能指望用户可能用到的所有浏览器都实现了要用的特性。因此采用 HTML5 中的特性是件复杂的事情，需要仔细评估相关标准得到支持的情况。W3C 公布过一个正式的 HTML5 徽标，但是它并不代表对 HTML5 标准及相关技术的全面支持。

### 1.2.2. 引入原生多媒体

HTML5 的一大改进就是支持在浏览器中直接播放视频和音频文件（也就是说不借助于插件）。这是 W3C 对插件风靡现象的一种反应。原生(native)多媒体支持再结合其他 HTML 特性可望大有作为。

### 1.2.3. 引入可编程内容

HTML5 最大的变化之一是添加了 canvas 元素。这个元素是对插件现象的另一反应，它提供了一个通用的绘图平面，开发人员可以用它完成一些通常用 Adobe Flash 完成的任务。

这个特性之所以重要，部分原因在于要使用 canvas 元素就必须用到 JavaScript。编程从而成了 HTML 文档中第一层次的事情，这是一个重大转变。

### 1.2.4. 引入语义 Web

HTML5 引入了一些用来分开元素的含义和内容呈现方式的特性和规则。这是 HTML5 中的一个重要概念。这个主题在本书中将多次论及， 它标志着 HTML 在走向成熟的道路上又迈上了一个新台阶，反映出制作和使用 HTML 内容的方式的多样性。这个变化（它逐步体现在之前的 HTML 版本中）稍稍增加了 Web 开发者的负担，这是因为开发者需要先标记内容然后再定义其呈现方式。不过有些实用的新改进可以减轻这种负担。
