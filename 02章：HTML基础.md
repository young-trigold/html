**目录：**

- [2. HTML 基础](#2-html-基础)
  - [2.1. 元素](#21-元素)
    - [2.1.1. 虚元素](#211-虚元素)
  - [2.2. 元素属性](#22-元素属性)
    - [2.2.1. 布尔属性](#221-布尔属性)
    - [2.2.2. 自定义属性](#222-自定义属性)
  - [2.3. HTML 文档](#23-html-文档)
    - [2.3.1. 外层结构](#231-外层结构)
    - [2.3.2. head](#232-head)
    - [2.3.3. body](#233-body)
  - [2.4. 元素关系](#24-元素关系)
  - [2.5. 元素类型](#25-元素类型)
  - [2.6. HTML 实体](#26-html-实体)
  - [2.7. 全局属性](#27-全局属性)
    - [2.7.1. accessKey](#271-accesskey)
    - [2.7.2. contentEditable](#272-contenteditable)
    - [2.7.3. contextMenu](#273-contextmenu)

# 2. HTML 基础

开发人员多少都知道一点 HTML。近年来它的身影随处可见，即便是那些从不需要写 HTML 代码的人，也可能见过一些。为了让读者打好基础，本章将回头介绍 HTML 的基本知识：HTML 的目标和其工作原理。我会解释一些 HTML 中的基本术语，并且介绍一些几乎所有网页都要用到的核心元素。

顾名思义，HTML 是一种标记语言。其标记以应用于文档内容（例如文本）的元素为其存在的形式。在后面的各节中，我会解释各种 HTML 元素的区别，以及使用各种属性配置这些元素的方法，并且介绍一系列可用于所有 HTML 元素的属性，称为全局属性。

## 2.1. 元素

以下是一个文本内容使用了 HTML 元素的例子：

```html
我正在深入学习
<i>HTML</i>
。
```

这个例子中，我们使用`i`标记了 HTML，使它变为斜体显示。`<i>HTML</i>` 整体为一个 **HTML 元素(HTML Element)**。具体来讲，几乎每一个元素（不是所有的元素）都分为三部分：开始标签（`<i>`），结束标签（`</i>`），和 **元素内容(Element Content)**（HTML）。其中开始标签和结束标签称为 **标签(tag)**。

元素使得浏览器可以根据标签来具体显示被标签包裹起来的内容。不同的标签使得内容有不同的显示效果。例如，`<i>` 标签使得文本斜体显示。

HTML 规定标签名不分大小写，大写和小写标签，对内容的显示效果是相同的。例如：`<I>HTML</I>` 和 `<i>HTML</i>` 的显示效果是相同的。但是最为推荐的标记风格是全部使用小写，这样更为方便，也更加统一。

HTML 规定了各式各样的标签，它们在 HTML 文档中起着不同的作用。`<i>` 标签是文本标签的一个例子。

标签应用在内容上改变内容的显示方式，这种想法在如今受到强烈的反对。现在的观点是标签应用在内容上只可以说明内容的含义或者文档结构，然后使用 CSS 来控制内容的显示，这样便可以做到 HTML 和 CSS 的松散耦合。

基于这些反对，HTML5 引进了很多的 **语义元素(Semantic Element)**，语义元素就是只用来说明内容的含义或者文档结构的，它们不会对内容的显示产生影响。例如，`<nav>` 只用来说明所标记内容表示一个导航链接，不会对 `<nav>` 标签包含的内容的显示产生影响。

虽然 HTML5 引入了很多的语义元素，但大部分以前的那些影响内容显示的标签并没有被废弃，你依然可以使用那些标签。

### 2.1.1. 虚元素

我们刚才说过，并不是所有的元素都包含：开始标签，内容，以及结束标签，实际上，有一种元素只包含一个结束标签，这种元素被称为 **虚元素(Void Element)**。例如，`</hr>` 就是这样一个例子，使用这个元素，会显示一条横线，用来表示内容的分隔。

虚元素并不是一定要用结束标签表示，事实上，你还可以使用开始标签表示。但是为了规范起见，我们推荐使用结束标签。

## 2.2. 元素属性

HTML 元素内可以使用 **属性(Attributes)**。具体来说，你可以在一个元素的开始标签里，使用 `键=值` 来补充这个元素的信息。

来看下面一个例子：

```html
<button id="btn">点击我！</button>
```

这个例子中，button 元素的开始标签里多了一个 `id="btn"`，这相当于指定了这个 button 元素的 id 为值："btn"。

元素的属性只能用在开始标签内，不能用于结束标签。属性值必须使用双引号包含起来，你也可以使用单引号，不过并不推荐。

有些属性可用于所有的 HTML 元素，这些属性称为 **全局属性(Global Attributes)**。而有一些属性只能用于特定的元素，这些属性称为 **局部属性(Local Attributes)**。本书后面
的章节会具体讲解。

一个元素可以使用多个属性，这些属性用空格分开。来看下面一个例子：

```html
<input type="text" name="userName"></input>
```

这个例子中，input 元素使用了 2 个属性：type 和 name。type 用来指定 input 的类型，这里 `type="text"` 指定这个 input 元素为文本类型。name 属性用来指定 input 的名称，这个名称在用 JavaScript 获取这个 input 的时候会用到。

### 2.2.1. 布尔属性

有些属性不需要一个值，只需写上属性键即可。这种属性称为 **布尔属性(Boolean Attributes)**。

来看一个例子：

```html
<input type="text" name="userName" autofocus></input>
```

这个例子中，input 元素开始标签内的 autofocus 属性并没有值，我们只是简单地写上了 autofocus，这也当然是可以起到效果的。autofocus 可以自动将焦点转移到 input 元素上。

### 2.2.2. 自定义属性

除了 HTML 内置的元素属性外，开发者可以自定义属性，这些自定义属性的键必须以 `data-` 开头。

例如：

```html
<article
  id="electric-cars"
  data-columns="3"
  data-index-number="12314"
  data-parent="cars"
>
  ...
</article>
```

这个例子中，有 3 个自定义属性：data-columns，data-index-number，data-parent。它们可以指定这个 article 元素的所在列，索引号，以及父元素信息。

自定义属性配合 JavaScript 非常方便。

## 2.3. HTML 文档

HTML 元素是 HTML 文档的构成单位。通过各式各样的元素的重复，嵌套，最终形成了 HTML 文档，也就是网页。但 HTML 文档一般有约定俗称的结构。

下面展示了一个通用的 HTML 文档结构：

```html
<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="utf-8">
    <title>文档</title>
  </head>
  <body>
    一段文本。
  <body>
</html>
```

下面的章节我们会一步步介绍。

### 2.3.1. 外层结构

HTML 文档的第一行是文档类型声明：`<!DOCTYPE html>`。这个元素表示这个文档是 HTML5 的 HTML 文档。在历史上，具有同等地位的还有其他一些标记语言，文档中可能会混合使用多种标记语言。但如今 HTML5 已经成为占绝对优势的标记语言，即使在文档中省略 DOCTYPE，绝大多数浏览器仍然假定处理的是 HTML5 文档。但是写上总是保险的做法。

紧接着文档类型声明的是 html 元素，html 元素用于包含 head 和 body 元素，使得文档声明和文档分隔清楚。

### 2.3.2. head

**元数据元素(meta-data Element)** 用来描述文档的信息，并不是文档的内容。所有的元数据元素都被放在 head 元素内部。例如 `<meta charset="utf-8">` 指定文档的字符集为 utf-8。

head 内常用的还有 title 元素，用来指定网页标签页的标题。除此之外，link 元素用来指定文档需要的外部链接信息，如 `<link rel="stylesheet" href="main.css">` 指定了文档的外部样式表。style 和 script 元素用来指定内联的层叠样式表和脚本。

### 2.3.3. body

head 元素用来放置文档元信息元素，而 body 元素放置的元素就是文档实际的内容。

我们编写 HTML 文档实际上大部分都在编写 HTML 文档的内容。因此都是在 body 元素内部编写的。

## 2.4. 元素关系

HTML 文档中的元素之间有着明确的关系。如果元素 a 包含了元素 b，那么 b 是 a 元素的 **子元素(child)**，或者说 a 是 b 元素的 **父元素(parent)**。如果元素 a1 和 a2 在并列位置，那么称 a1 和 a2 为 **兄弟元素(sibling)**。

不是任何元素都可以成为某一个元素的子元素，这是有限制的。这种限制取决于父子元素的类型。除此之外，CSS 和 DOM 都会用到元素关系。

## 2.5. 元素类型

HTML 规范将元素分为 3 大类：**元数据元素(Metadata Element)**，**流元素(Flow Element)** 和 **短语元素(Phrasing Element)**。

元数据元素描述了文档的元数据信息，向浏览器提供了如何处理文档。

另外两种类型的元素的主要用途就是确定一个元素的合法子元素。短语元素是 HTML 文档的基本组成。流元素是短语元素的超集。

有些元素无法归入上述三种类型，这些元素要么没有什么特别的含义，要么只能用在一些非常有限的情况下。li 元素就是受限元素的一个例子。它表示列表项，只能有三种父元素： ol（表示有序列表）、ul（表示无序列表） 和 menu（表示菜单）。

## 2.6. HTML 实体

从本章的例子中可以看到，HTML 文档中有些字符具有特殊含义最明显的是<和>这两个字符。有时需要在文档内容中用到这些字符，但不想让它们被当做 HTML 处理。为此应该使用 **HTML 实体(HTML entity)**。实体是浏览器用来替代特殊字符的一种代码。下表列出了一些常用实体。

| Result       | Description | Entity Name | Entity Number |
| ------------ | ----------- | ----------- | ------------- |
| non-breaking | 空格        | &nbsp;      | &#160;        |
| <            | 小于        | &lt;        | &#60;         |
| >            | 大于        | &gt;        | &#62;         |
| &            | 和          | &amp;       | &#38;         |
| "            | 双引号      | &quot;      | &#34;         |
| '            | 单引号      | &apos;      | &#39;         |
| ©            | 版权        | &copy;      | &#169;        |
| ®            | 注册商标    | &reg;       | &#174;        |

每个特殊字符都有一个实体编号，可以用来在文档内容中代表该字符。例如，字符 & 的实体编号是&#38;。特别常用的特殊字符还有对应的实体名称。例如，对于浏览器来说，&#38 和 &amp 是相同的。

## 2.7. 全局属性

前面讲过全局属性可以用于所有的 HTML 元素，本节涉及了一些常用的全局属性。

### 2.7.1. accessKey

accessKey 为元素设置了焦点键盘快捷键。用户可以通过键盘快捷键将焦点方便地转到元素。不同地浏览器快捷键可能不同，详情参考[这篇文章](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/accesskey)。Chrome 浏览器可以使用 Alt + accessKet 的方式。

例如：

```html
<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="utf-8">
    <title>Doc</title>
  </head>
  <body>
    <button accesskey="u">上传</button>
    <button accesskey="s">提交</button>
  <body>
</html>
```

这个 html 设计了两个按钮分别带有 accessKey 为 "u" 和 "s"。用户可以通过 Alt + U 将焦点快捷地转到上传按钮上。

### 2.7.2. contentEditable

contentEditable 是 HTML5 新增的属性，这个属性设计的目的是富文本编辑。这个属性可以将一个元素变为可编辑状态。
这个属性往往要配合 document.execCommand() 方法以实现富文本编辑。

MDN 的[这篇文章](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content) 中实现了一个复杂的富文本编辑器。效果如下：

![2-7-contentEditable](illustrations/2-7-contentEditable.png)

### 2.7.3. contextMenu

