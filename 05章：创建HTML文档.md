**目录：**

- [5. 创建 HTML 文档](#5-创建-html-文档)
  - [5.1. 文档元素](#51-文档元素)
    - [5.1.1. DOCTYPE](#511-doctype)
    - [5.1.2. html](#512-html)
    - [5.1.3. head](#513-head)
    - [5.1.4. body](#514-body)
  - [5.2. 元数据元素](#52-元数据元素)
    - [5.2.1. title](#521-title)
    - [5.2.2. base](#522-base)
    - [5.2.3. meta](#523-meta)
    - [5.2.4. style](#524-style)
    - [5.2.5. link](#525-link)
    - [5.2.6. script](#526-script)
    - [5.2.7. noscript](#527-noscript)

# 5. 创建 HTML 文档

本章介绍的是最基础的 HTML5 元素：**文档元素** 和 **元数据元素**。它们是创建 HTML 文档和说明其内容的元素。

这些元素不那么有趣，但是非常重要。读者如果想跳过本章先学习后面的内容，等以后再回头阅读本章也可以，但务必要回头读一遍。每个 HTML 文档至少都要用到一些这类元素（用到所有这类元素是经常的事），懂得如何正确使用它们对于创建遵守标准的 HTML5 文档很关键。

## 5.1. 文档元素

先从文档元素讲起。这些基础成分确定了 HTML 文档的轮廓以及浏览器的初始环境。文档元素只有 4 个，但是任何 HTML 文档都需要所有这些元素。

### 5.1.1. DOCTYPE

在 HTML 中，文档类型 doctype 的声明是必要的。在所有文档的头部，你都将会看到`<!DOCTYPE html>` 的身影。这个声明的目的是防止浏览器在渲染文档时，切换到我们称为“怪异模式(兼容模式)”的渲染模式。`<!DOCTYPE html>` 确保浏览器按照最佳的相关规范进行渲染，而不是使用一个不符合规范的渲染模式。

在很久以前的网络上，页面通常有两种版本：为网景（Netscape）的 Navigator 准备的版本，以及为微软（Microsoft）的 Internet Explorer 准备的版本。当 W3C 创立网络标准后，为了不破坏当时既有的网站，浏览器不能直接弃用这些标准。因此，浏览器采用了两种模式，用以把能符合新规范的网站和老旧网站区分开。

目前浏览器的排版引擎使用三种模式：**怪异模式(Quirks mode)**、**接近标准模式(Almost standards mode)**、以及 **标准模式(Standards mode)**。在怪异模式下，排版会模拟 Navigator 4 与 Internet Explorer 5 的非标准行为。为了支持在网络标准被广泛采用前，就已经建好的网站，这么做是必要的。在标准模式下，行为即（但愿如此）由 HTML 与 CSS 的规范描述的行为。在接近标准模式下，只有少数的怪异行为被实现。

在 quirks 模式和标准模式之间一个突出的不同是对 CSS IE 盒模型缺陷的处理。在第 6 版之前，Internet Explorer 曾经使用一种决定一个元素的盒模型的宽度和高度的，与 CSS 规范所指定相冲突的算法，而且由于 Internet Explorer 的流行，很多依赖于这种不正确的算法的网页被创建。而在版本 6, Internet Explorer 在标准模式下渲染时使用了 CSS 规范的算法，而在 quirks 模式下使用先前的，不规范的算法。

另一个值得一提的不同点是某些行内（inline）元素的垂直对齐；很多早期的浏览器对齐图片至包含它们的盒子的下边框，虽然 CSS 的规范要求它们被对齐至盒内文本的基线。标准模式下，基于 Gecko 的浏览器将会对齐至基线，而在 quirks 模式下它们会对齐至底部。

此外，很多早期的浏览器对表格内部的字体样式不实施继承；结果是，字体样式必须为整个文档作为一个整体指定一次，并且为表格再次指定一次，尽管 CSS 规范要求字体样式被继承进表格。如果字号使用相对单位指定，一个标准兼容的浏览器会继承基准字号，然后应用于表格内的相对字号：比如，一个声明了基准字号为 80%的页面内声明表格为 80%（以保证在不正确继承字号的浏览器中有 80%的字号）的字号将会，在一个标准兼容的浏览器里，显示具有 64%字号的表格。结果是，浏览器在怪异模式典型的不对表格继承字号。

在绝大多数浏览器，文档对象模型的扩展 document.compatMode 指示当前页面的渲染模式。在标准模式和接近标准模式，document.compatMode 包含值'CSS1Compat'，然而在怪异模式该值为'BackCompat'。

此外，在 Mozilla Firefox 和 Opera 一个给定页面的渲染模式也被指示在“页面信息”的信息框中。而在 Internet Explorer 8 及更高版本的 IE 中，文档模式被显示于 Internet Explorer 开发人员工具中，且可以被用户更改。在 Internet Explorer 中还有 document.documentMode 的私有 JavaScript 扩展，其取值为 5, 7, 8, 9, 10 之一的浮点型变量。

### 5.1.2. html

html 元素表示一个 HTML 文档的根（顶级元素），所以它也被称为根元素。所有其他元素必须是此元素的后代。

下表概括了 html 元素。

| 元素         | html                            |
| ------------ | ------------------------------- |
| 元素类型     | 无                              |
| 父元素       | 无                              |
| 局部属性     | manifest                        |
| 内容         | head，body 各一                 |
| 标签         | 开始标签+内容+结束标签          |
| 关于 html5   | html5 以前就有，manifest 为新增 |
| 用户代理样式 | display: block;                 |

### 5.1.3. head

HTML head 元素了规定文档相关的配置信息（元数据），包括文档的标题，引用的文档样式和脚本等。

下表概括了 head 元素。

| 元素         | head                       |
| ------------ | -------------------------- |
| 元素类型     | 无                         |
| 父元素       | html                       |
| 局部属性     | 无                         |
| 内容         | 元数据元素，必须包含 title |
| 标签         | 开始标签+内容+结束标签     |
| 关于 html5   | html5 以前就有             |
| 用户代理样式 | display: none;             |

### 5.1.4. body

HTML body 元素表示文档的内容。document.body 属性提供了可以轻松访问文档的 body 元素的脚本。

下表总结了 body 元素。

| 元素         | body                                                 |
| ------------ | ---------------------------------------------------- |
| 元素类型     | 无                                                   |
| 父元素       | html                                                 |
| 局部属性     | on\*属性                                             |
| 内容         | 流元素，短语元素                                     |
| 标签         | 开始标签+内容+结束标签                               |
| 关于 html5   | html5 以前就有，废弃了很多样式属性，新增了 on\* 属性 |
| 用户代理样式 | display: block; margin: 8px                          |

## 5.2. 元数据元素

元数据元素可以用来提供关于 HTML 文档的信息。它们不是文档内容，但提供了关于文档本身的信息。元数据元素应放在 head 元素中。

### 5.2.1. title

title 元素了定义文档的标题，显示在浏览器的标题栏或标签页上。它只应该包含文本，若是包含有标签，则它包含的任何标签都将被忽略。

下表概括了 title 元素。

| 元素         | title                  |
| ------------ | ---------------------- |
| 元素类型     | 元数据                 |
| 父元素       | head                   |
| 局部属性     | 无                     |
| 内容         | 简短的文本             |
| 标签         | 开始标签+内容+结束标签 |
| 关于 html5   | html5 以前就有         |
| 用户代理样式 | display: none;         |

页面标题的内容可能对搜索引擎优化（SEO）具有重要意义。 通常，较长的描述性标题要比简短或一般性标题更好。 标题的内容是搜索引擎算法用来确定在搜索结果中列出页面顺序的组件之一。 同样，标题是初始的“挂钩”，您可以通过它吸引浏览浏览结果页面的读者的注意力。

撰写好标题的一些准则和技巧：

- 避免使用一两个单词的标题。 对于词汇表或参考样式的页面，请使用描述性短语或术语-定义对。
- 搜索引擎通常显示页面标题的前 55 至 60 个字符。 超出此范围的文本可能会丢失，因此请尽量不要使标题更长。 如果您必须使用较长的标题，请确保重要的部分出现在前面，并且标题中可能要删除的部分中没有关键内容。
- 不要使用“关键字集合”。 如果标题只是单词列表，则算法通常会降低页面在搜索结果中的位置。
- 尝试确保您的标题在您自己的网站中尽可能唯一。 标题重复（或几乎重复）可能会导致搜索结果不准确。

### 5.2.2. base

base 元素 指定用于一个文档中包含的所有相对 URL 的根 URL。head 中只能有一个 base 元素。

### 5.2.3. meta

### 5.2.4. style

### 5.2.5. link

### 5.2.6. script

### 5.2.7. noscript
